import { FortuneData } from "../types";

// 30 Мистических прилагательных
const ADJECTIVES = [
  "Звездный", "Лунный", "Забытый", "Вечный", "Хрустальный", 
  "Багровый", "Изумрудный", "Золотой", "Небесный", "Тайный", 
  "Мистический", "Древний", "Безмолвный", "Спящий", "Огненный", 
  "Серебряный", "Темный", "Светлый", "Астральный", "Истинный", 
  "Скрытый", "Мерцающий", "Священный", "Загадочный", "Мудрый",
  "Иллюзорный", "Странствующий", "Пылающий", "Ледяной", "Эфирный"
];

// 25 Мистических существительных (мужской род)
const NOUNS = [
  "Лотос", "Ворон", "Путник", "Маятник", "Компас", 
  "Ключ", "Мост", "Океан", "Лес", "Феникс", 
  "Дракон", "Меч", "Кубок", "Посох", "Амулет", 
  "Кристалл", "Лабиринт", "Цветок", "Огонь", "Ветер",
  "Оракул", "Страж", "Странник", "Шепот", "Рассвет"
];

// 30 Глубоких начал предсказания (Ситуация)
const SENTENCE_1 = [
  "Время сомнений подходит к концу.",
  "Твоя интуиция сейчас острее, чем когда-либо.",
  "Впереди неожиданный поворот судьбы.",
  "То, что ты ищешь, уже ищет тебя.",
  "Прошлое отпускает свою хватку.",
  "Вселенная приготовила для тебя особый дар.",
  "Твои недавние усилия скоро принесут плоды.",
  "Наступает период глубокого внутреннего исцеления.",
  "Скрытые истины скоро выйдут на свет.",
  "Ты стоишь на пороге важного открытия.",
  "Энергия вокруг тебя меняет свое направление.",
  "Твой внутренний голос подсказывает верный путь.",
  "Грядут перемены, о которых ты давно просил.",
  "Препятствия на твоем пути растворяются.",
  "Новый цикл твоей жизни уже начался.",
  "Звезды выстраиваются в твою пользу.",
  "То, что казалось потерей, обернется приобретением.",
  "Твоя энергия притягивает нужных людей.",
  "Сейчас идеальное время для смелых шагов.",
  "Ответ, который ты ищешь, лежит на поверхности.",
  "Гармония возвращается в твою жизнь.",
  "Твои сны сейчас полны важных подсказок.",
  "Светлые силы незримо поддерживают тебя.",
  "Ты обладаешь всем необходимым для победы.",
  "Твой потенциал готов раскрыться в полной мере.",
  "Судьба открывает перед тобой скрытую дверь.",
  "То, что было тайным, скоро станет очевидным.",
  "Сейчас ты находишься именно там, где должен быть.",
  "Оставь позади то, что больше не служит тебе.",
  "Силы космоса благосклонны к твоим желаниям."
];

// 25 Мудрых завершений (Совет)
const SENTENCE_2 = [
  "Сделай шаг в неизвестность без страха.",
  "Позволь вселенной вести тебя.",
  "Открой сердце для новых чудес.",
  "Сохраняй внутренний покой.",
  "Твоя сила — в твоей искренности.",
  "Доверься процессу и не торопи события.",
  "Отпусти контроль и наблюдай за магией.",
  "Прислушайся к тишине внутри себя.",
  "Будь готов принять дары судьбы.",
  "Прояви терпение, и все сложится идеально.",
  "Действуй мягко, но уверенно.",
  "Твоя вера в себя разрушит любые преграды.",
  "Оставь страхи в прошлом.",
  "Смотри на мир с открытой душой.",
  "Позволь себе быть настоящим.",
  "Ищи ответы в простых вещах.",
  "Направь свою энергия на созидание.",
  "Помни, что ты часть чего-то большего.",
  "Твой свет способен разогнать любую тьму.",
  "Каждый твой шаг сейчас благословен.",
  "Слушай свое дыхание и сохраняй ясность ума.",
  "Разреши себе стать творцом своей реальности.",
  "Не бойся попросить помощи у тех, кому доверяешь.",
  "Прими свои слабости, они — ключ к твоей силе.",
  "Продолжай сиять, несмотря ни на что."
];

export const fetchFortune = async (): Promise<FortuneData> => {
  // Искусственная задержка (400мс) для красивой анимации загрузки/сброса
  await new Promise(resolve => setTimeout(resolve, 400));

  // Независимый случайный выбор каждого элемента
  const adj = ADJECTIVES[Math.floor(Math.random() * ADJECTIVES.length)];
  const noun = NOUNS[Math.floor(Math.random() * NOUNS.length)];
  const s1 = SENTENCE_1[Math.floor(Math.random() * SENTENCE_1.length)];
  const s2 = SENTENCE_2[Math.floor(Math.random() * SENTENCE_2.length)];

  return {
    cardName: `${adj} ${noun}`,
    text: `${s1} ${s2}`,
    imageUrl: "" // Картинка не используется, дизайн строится на CSS-магии
  };
};
